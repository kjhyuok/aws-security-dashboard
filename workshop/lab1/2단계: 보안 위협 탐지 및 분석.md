# 2단계: 보안 위협 탐지 및 분석

## 실습 목표
• AWS Security Dashboard를 통한 보안 위협 상세 분석
• IAM, CloudTrail, S3, WAF, GuardDuty 등의 보안 설정 검토
• 위협 등급별 분류 및 대응 방안 수립
• Amazon Q Developer CLI를 활용한 보안 문제 해결

## 준비 사항
• 1단계 실습 완료
• AWS Security Dashboard 접속 권한
• Amazon Q Developer CLI 설치 및 설정

## 실습 과정

### 1. 대시보드 로그인 및 계정 인증

1. AWS Security Dashboard에 다시 접속합니다.
  
   https://<제공된-대시보드-URL>
   

2. IAM 자격 증명으로 로그인합니다.
   • 필요한 경우 MFA 인증을 완료합니다.

3. 실습용 계정이 올바르게 연결되었는지 확인합니다.
   • 대시보드 상단의 계정 ID가 실습용 계정과 일치하는지 확인
   • 리소스 접근 권한이 정상적으로 작동하는지 테스트

### 2. IAM 및 CloudTrail 정보 분석

1. "IAM 분석" 탭으로 이동하여 다음 항목을 검토합니다:
   • 사용자 및 역할 목록
   • 권한 정책 및 권한 경계
   • 최근 생성된 IAM 엔티티
   • 미사용 자격 증명 및 과도한 권한

2. "CloudTrail 분석" 탭에서 다음 정보를 확인합니다:
   • 최근 API 호출 기록
   • 비정상적인 활동 패턴
   • 권한 변경 이벤트
   • 리소스 생성 및 삭제 이벤트

### 3. 보안 위협 스캔 및 분석

1. "보안 스캔" 메뉴에서 전체 스캔을 실행합니다.

2. 다음 영역별로 보안 설정을 검사합니다:
   • **S3 버킷 보안**: 퍼블릭 액세스 설정, 암호화 상태, 버전 관리
   • **WAF 규칙**: 웹 애플리케이션 방화벽 설정 및 규칙
   • **GuardDuty**: 위협 탐지 알림 및 조사 결과
   • **VPC Flow Logs**: 네트워크 트래픽 패턴 및 이상 징후

3. 발견된 위협을 등급별로 분류합니다:
   • **Low**: 경미한 보안 위협 (예: 권장 설정 미준수)
   • **Medium**: 중간 수준의 보안 위협 (예: 잠재적 취약점)
   • **High**: 심각한 보안 위협 (예: 노출된 자격 증명, 퍼블릭 액세스)

### 4. Amazon Q Developer CLI를 활용한 위협 해결

1. 터미널을 열고 High 등급 위협 중 하나를 선택하여 분석합니다.

2. Amazon Q Developer CLI를 사용하여 해결 방안을 조회합니다:
  
bash
   q "AWS S3 버킷의 퍼블릭 액세스 차단 방법 알려줘"
   q "GuardDuty 알림에 대한 대응 방안 제시해줘"
   q "IAM 권한 최소 권한 원칙을 적용하는 방법은?"
   


3. 제안된 해결책을 검토하고 적용 계획을 수립합니다:
   • 필요한 AWS CLI 명령어 또는 콘솔 작업 정리
   • 변경 사항의 영향 범위 평가
   • 롤백 계획 수립

4. 간단한 위협에 대해서는 실제 수정 작업을 수행합니다:
   • S3 버킷 퍼블릭 액세스 차단 설정
   • 불필요한 IAM 권한 제거
   • 보안 그룹 규칙 수정

### 5. 결과 검증 및 보고서 작성

1. 변경 사항 적용 후 대시보드에서 다시 스캔을 실행하여 위협이 해결되었는지 확인합니다.

2. 다음 내용을 포함한 간단한 보고서를 작성합니다:
   • 발견된 위협 요약
   • 적용한 해결책
   • 남아있는 위협 및 추가 조치 사항

3. 팀원들과 결과를 공유하고 피드백을 수집합니다.

## 마무리 및 다음 단계 준비

1. 해결하지 못한 보안 위협에 대한 장기 대응 계획을 수립합니다.

2. Amazon Q Developer CLI를 활용한 보안 자동화 방안을 고민합니다.

3. 다음 실습인 "AWS Security Dashboard 추가 개발 가이드"를 위한 아이디어를 정리합니다.
